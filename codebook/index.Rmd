---
title: "Fábrica de Datos Laborales"
subtitle: "<center>Codebook</center>"
author: "PI: Pablo Pérez Ahumada <br> RA: Valentina Andrade <br> Collaborators: Emilia Cuadros y Nicolás Godoy"
date: "`r format(Sys.Date(), '%d %B %Y')`"
site: bookdown::bookdown_site
documentclass: book
#bibliography: [book.bib] #packages.bib
biblio-style: apalike
link-citations: yes
#description: ""
#favicon: images/lisa.ico
#cover-image: images/lisa-complete.png
github-repo: fabrica-datos-laborales/fdl-data
url: https://github.com/fabrica-datos-laborales/fdl-data
always_allow_html: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(comment=NA, prompt=FALSE, cache=FALSE, echo=TRUE, results='asis', message = F, warning = F)
#Kable opts
kable <- function(data) {
  knitr::kable(data, booktabs = TRUE, digits = 2) %>% 
    kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), latex_options =c("striped", "scale_down"),  full_width = T)
}
options(knitr.kable.NA = 'No sabe/No responde', kableExtra.auto_format = FALSE)
pacman::p_load(tidyverse, rvest, kableExtra)
```

```{r load devtools}
#devtools::install_github(repo="haozhu233/kableExtra", ref="a6af5c0") #para collapse rows
```

# Presentación{-}

El siguiente libro de códigos contiene todas las variables presentes en la base de datos FDL (*"Fábrica de Datos Laborales*, o en inglés *"Labor Dara Factory"*), variables que proviene de proyectos como ICTWSS, ICTWSS, WDI, WVS, DPI, VDemocracy, ISSP, Eurobarometer, Latinobarometro; y organizaciones no gubernamentales como OCDE e ILO.  FDL ha sido organizada de modo tal que permita hacer análisis comparativo en el tiempo para *países-año*.

El proyecto fue liderado por Valentina Andrade, junto con la importante ayudantía de investigación de Nicolás Godoy y Emilia Cuadros, todo bajo la supervisión del investigador principal del FONDECYT N°11190229 *"Determinantes institucionales y políticos del conflicto entre empresarios y trabajadores: los casos de Argentina y Chile en perspectiva comparada"*, Dr. Pablo Pérez Ahumada[^1].

[^1]: Profesor asistente del Departamento de Sociología, Universidad de Chile(FACSO-UCH) e Investigador Asociado en *Centro de Estudios del Conflicto y Cohesión Social* (COES). 

El objetivo del proyecto FONDECYT es explicar las variaciones en el conflicto entre trabajadores y empresarios en Argentina y Chile. Para hacer esto, se conduce un análisis comparativo a nivel institucional (regulaciones laborales) y políticas (relaciones entre partidos y movimiento sindical)

Por esta razón, el proyecto se ha propuesto la construcción de una base de datos **temporal y mundial** de relaciones laborales. Esto incluye datos soobre acuerdos y pactos entre empleadores, sindicatos y gobierno; características sociales y políticas de los sindicatos y otras asociaciones de trabajores,  relaciones económicas y de empleo en diferentes sectores de la economía, y variables del sistema sociopolítico tales como índices de democracia y confianza en diferentes instituciones y actores sociales. Los datos están disponibles en promedio para 60 países, en general, desde 1879 hasta 2020. La principales fuentes de información fueron  *ICTWSS, OECD, WDI, WVS, DPI, ILOSTAT, ILOEPLEX, VDemocracy, ISSP, Eurobarometer and Latinobarometer.*

Con esta base de datos de construcción abierta y reproducible nosotros esperamos promover el enfoque de la ciencia abierta, con un diseño transparente, datos abiertos, análisis reproducible y publicaciones libres.  Esto significa hacer una decisión metodológica de hacer este estudio transparente, promoviendo a la comunidad los recursos usados en este trabajo e investigación, tanto como los datos construidos  de modo de hacer reproducibles y dar acceso libre a los resultados y productos de investigación (Laboratorio de Ciencia Social Abierta COES, 2021).

Además, estos datos permiten hacer análisis comparativo entre diferentes países y años. Las series temporales están en general en años para cada variable.  Para ver especificamente si los países y años están disponibles se debe consultar a la misma base de datos. Para la clasificación uniforme de los países ocupamos la clasificación ISO3C. 

```{r tabla iso3c, echo=FALSE, warning=FALSE, error=FALSE, message=FALSE}
url <- read_html("https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3")
iso3c <- url %>% html_nodes("span.monospaced") %>% html_text()  
iso3c <- iso3c[1:249]
country <- url %>% html_nodes("li a") %>% html_text()
country <- country[15:263]
table <- data.frame(iso3c = iso3c, Country = country)

table %>% 
  knitr::kable(.) %>% 
  kable_styling(font_size = 10) 

```


